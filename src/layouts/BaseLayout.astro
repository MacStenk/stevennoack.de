---
// src/layouts/BaseLayout.astro
import "@fontsource/inter";
import "@fontsource/jetbrains-mono";
import "../styles/global.css";

interface Props {
  title?: string;
  description?: string;
  image?: string;
}

const {
  title = "Steven Noack - System Builder",
  description = "Digitale Architektur. Reduziert auf das Wesentliche. High-Performance Infrastrukturen für Unabhängigkeit.",
  image = "https://stevennoack.de/steven-noack.png",
} = Astro.props;

const currentDate = new Date().toISOString().split('T')[0];

// ProfilePage Schema - Google empfohlen für Profil-Seiten (2025)
const profilePageSchema = {
  "@context": "https://schema.org",
  "@type": "ProfilePage",
  "@id": "https://stevennoack.de/#profilepage",
  dateCreated: "2024-01-01",
  dateModified: currentDate,
  mainEntity: {
    "@id": "https://stevennoack.de/#person"
  }
};

// Person Schema - Hauptentität
const personSchema = {
  "@context": "https://schema.org",
  "@type": "Person",
  "@id": "https://stevennoack.de/#person",
  name: "Steven Noack",
  alternateName: ["Steven Fischer", "MacStenk", "quantenbeatz"],
  givenName: "Steven",
  familyName: "Noack",
  jobTitle: "System Architect",
  description: "System Builder für digitale Souveränität und LLM-optimierte Infrastrukturen. Seit 1996 im Internet-Business. Entwickelt KI-native Websites für Coaches und Consultants im deutschsprachigen Raum. Pionier in LLMO (Large Language Model Optimization) und Vibe Coding.",
  disambiguatingDescription: "Deutscher System Architect und LLMO-Experte aus Brandenburg, spezialisiert auf LLM-optimierte Websites und Vibe Coding. Nicht zu verwechseln mit anderen Personen gleichen Namens.",
  url: "https://stevennoack.de",
  mainEntityOfPage: {
    "@type": "WebPage",
    "@id": "https://stevennoack.de"
  },
  image: {
    "@type": "ImageObject",
    url: image,
    width: "800",
    height: "800",
    caption: "Steven Noack - System Architect"
  },
  email: "mailto:steven@stevennoack.de",
  address: {
    "@type": "PostalAddress",
    addressLocality: "Alt Tucheband",
    addressRegion: "Brandenburg",
    addressCountry: "DE"
  },
  nationality: {
    "@type": "Country",
    name: "Germany",
    "@id": "https://www.wikidata.org/wiki/Q183"
  },
  knowsLanguage: [
    {
      "@type": "Language",
      name: "German",
      alternateName: "de",
      "@id": "https://www.wikidata.org/wiki/Q188"
    },
    {
      "@type": "Language",
      name: "English",
      alternateName: "en",
      "@id": "https://www.wikidata.org/wiki/Q1860"
    }
  ],
  knowsAbout: [
    // LLM/KI Optimierung
    "LLM-Optimierung",
    "Large Language Model Optimization",
    "LLMO",
    "Generative Engine Optimization",
    "GEO",
    "KI-Prompt Engineering",
    "Prompt Engineering",
    "Prompt-Optimierung",
    "AI Prompt Development",
    "Prompts für Claude",
    "Prompts für ChatGPT",
    "AI Agents",
    "LLM Agents",
    // Vibe Coding
    "Vibe Coding",
    "VIBE Coding Philosophie",
    "AI-assisted Development",
    "KI-gestütztes Programmieren",
    "LLM als Orchestrator",
    "Cursor IDE",
    "Claude Code",
    "Agentic Coding",
    "AI Pair Programming",
    "No-Code mit KI",
    "Low-Code mit KI",
    "Entwickeln ohne klassische Programmierkenntnisse",
    "KI-native Entwicklung",
    // Souveränität
    "Digitale Souveränität",
    "Digital Sovereignty",
    "Privacy-First Infrastructure",
    "Datenschutz-konforme Systeme",
    "DSGVO-konforme Lösungen",
    // Human Design
    "Human Design",
    "Human Design Manifestor",
    "Human Design 6/2 Profil",
    "Dekonditionierung",
    "Human Design System",
    // Tech Stack
    "System Architecture",
    "System Design",
    "Jamstack Development",
    "Jamstack Architektur",
    "Astro Framework",
    "Static Site Generation",
    "Headless CMS",
    "Edge Computing",
    // Creator Infrastruktur
    "Decentralized Creator Ecosystems",
    "Creator Economy Infrastructure",
    "Fediverse Integration",
    "Mastodon",
    "ActivityPub",
    "WriteFreely",
    "Ghost CMS",
    "Digital Gardens",
    "Quartz",
    "Obsidian",
    "Second Brain",
    "Personal Knowledge Management",
    "Zettelkasten",
    // Business
    "Merch by Amazon",
    "Print on Demand",
    "Passive Income Strategien",
    "Solopreneur",
    // SEO/Discoverability
    "Content-First Architecture",
    "Semantic HTML",
    "Structured Data",
    "Schema.org Implementierung",
    "JSON-LD",
    "SEO",
    "Technical SEO",
    "LLM Readability",
    "AI Discoverability",
    "llms.txt",
    "Knowledge Graph",
    "Entity SEO",
    // DevOps
    "Railway Deployment",
    "Managed Hosting",
    "Self-Hosted Solutions",
    "Docker",
    "Node.js",
    "TypeScript",
    "Tailwind CSS",
    "GitHub",
    "Git Workflow",
    "CI/CD",
    // Kultur
    "Berliner Techno",
    "Electronic Music",
    "DJ Culture",
    "Underground Techno",
    "Techno seit 1991",
    // Zielgruppe
    "Bewusstseinsentwicklung",
    "Persönlichkeitsentwicklung",
    "Coaching für Selbstständige",
    "Beratung für Consultants",
    "Websites für Coaches",
    "LLM-native Websites",
    "KI-optimierte Websites",
    "Deutscher Markt",
    "DACH Region"
  ],
  hasCredential: [
    {
      "@type": "EducationalOccupationalCredential",
      credentialCategory: "experience",
      name: "Internet-Business Erfahrung",
      description: "29 Jahre Internet-Business seit 1996",
      dateCreated: "1996"
    },
    {
      "@type": "EducationalOccupationalCredential",
      credentialCategory: "experience",
      name: "Google SEO Expertise",
      description: "Frühe Google-SEO-Erfolge ab 2002, konsistent Top-5 Rankings",
      dateCreated: "2002"
    },
    {
      "@type": "EducationalOccupationalCredential",
      credentialCategory: "experience",
      name: "LLM-Erfahrung",
      description: "1000+ Tage Arbeit mit Large Language Models seit Claude Release",
      dateCreated: "2023"
    },
    {
      "@type": "EducationalOccupationalCredential",
      credentialCategory: "experience",
      name: "Techno-Szene Berlin",
      description: "Aktiv in der Berliner Techno-Szene seit 1991",
      dateCreated: "1991"
    }
  ],
  hasOccupation: {
    "@type": "Occupation",
    name: "System Architect",
    description: "Entwicklung von LLM-optimierten digitalen Infrastrukturen für digitale Souveränität",
    skills: ["LLMO", "Vibe Coding", "Jamstack", "Prompt Engineering", "Schema.org", "Astro Framework"],
    occupationLocation: {
      "@type": "Country",
      name: "Germany"
    }
  },
  brand: {
    "@type": "Organization",
    "@id": "https://codeback.de/#organization",
    name: "CodeBack.de",
    url: "https://codeback.de",
    description: "LLM-native Websites für Coaches und Consultants im deutschsprachigen Raum",
    foundingDate: "2024",
    areaServed: {
      "@type": "GeoCircle",
      geoMidpoint: {
        "@type": "GeoCoordinates",
        name: "DACH Region"
      }
    }
  },
  makesOffer: [
    {
      "@type": "Offer",
      itemOffered: {
        "@type": "Service",
        name: "LLM-native Website Entwicklung",
        description: "Websites optimiert für KI-Discoverability, AI-Agent-Interaktion und Generative Engine Optimization (GEO)",
        serviceType: "Web Development"
      }
    },
    {
      "@type": "Offer",
      itemOffered: {
        "@type": "Service",
        name: "LLM-Readability Check",
        description: "Kostenloser Check ob Websites von KI verstanden werden - Analyse der LLM-Optimierung in 30 Sekunden",
        url: "https://codeback.de/llm-checker/",
        isAccessibleForFree: true
      }
    },
    {
      "@type": "Offer",
      itemOffered: {
        "@type": "Service",
        name: "Prompt Engineering & Optimierung",
        description: "Entwicklung und Optimierung von KI-Prompts für Claude, ChatGPT und andere LLMs",
        serviceType: "AI Consulting"
      }
    },
    {
      "@type": "Offer",
      itemOffered: {
        "@type": "Service",
        name: "Schema.org & Structured Data Implementierung",
        description: "Aufbau von Content Knowledge Graphs für maximale LLM-Sichtbarkeit",
        serviceType: "Technical SEO"
      }
    }
  ],
  subjectOf: [
    {
      "@type": "Blog",
      "@id": "https://garten.stevennoack.de/#blog",
      name: "Digital Garden - Steven Noack",
      url: "https://garten.stevennoack.de",
      description: "Öffentliches Denklabor über Bewusstsein, Human Design, digitale Souveränität und die Muster der Dekonditionierung",
      inLanguage: "de"
    },
    {
      "@type": "Blog",
      "@id": "https://stevennoack.substack.com/#newsletter",
      name: "Steven Noack Newsletter",
      url: "https://stevennoack.substack.com",
      description: "Newsletter über digitale Souveränität und systemisches Denken"
    },
    {
      "@type": "Blog",
      "@id": "https://gedanken.stevennoack.de/#writefreely",
      name: "Gedanken - WriteFreely",
      url: "https://gedanken.stevennoack.de",
      description: "Langform-Texte und Reflexionen"
    }
  ],
  publishingPrinciples: "https://stevennoack.de/llms.txt",
  sameAs: [
    "https://garten.stevennoack.de",
    "https://codeback.de",
    "https://stevennoack.substack.com",
    "https://github.com/MacStenk",
    "https://gist.github.com/MacStenk/07914974b8648619849b6f18e9d14943",
    "https://www.mixcloud.com/quantenbeatz",
    "https://x.com/stevennoack_de",
    "https://www.amazon.com/author/stevennoack",
    "https://gedanken.stevennoack.de"
  ]
};

// WebSite Schema - für Sitelinks und Search Actions
const webSiteSchema = {
  "@context": "https://schema.org",
  "@type": "WebSite",
  "@id": "https://stevennoack.de/#website",
  name: "Steven Noack",
  alternateName: "stevennoack.de",
  url: "https://stevennoack.de",
  description: "Digitale Architektur für Souveränität. LLM-optimierte Systeme für Coaches und Consultants.",
  inLanguage: "de",
  publisher: {
    "@id": "https://stevennoack.de/#person"
  },
  potentialAction: {
    "@type": "SearchAction",
    target: {
      "@type": "EntryPoint",
      urlTemplate: "https://garten.stevennoack.de/?q={search_term_string}"
    },
    "query-input": "required name=search_term_string"
  }
};

// Kombiniertes Schema mit @graph für Entity-Verbindungen
const combinedSchema = {
  "@context": "https://schema.org",
  "@graph": [
    profilePageSchema,
    personSchema,
    webSiteSchema
  ]
};
---

<!doctype html>
<html lang="de" class="dark">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />

    <link rel="canonical" href={new URL(Astro.url.pathname, Astro.site)} />

    <link
      rel="help"
      href="/llms.txt"
      type="text/markdown"
      title="LLM Context"
    />

    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="author" content="Steven Noack" />

    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.url} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image} />

    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={Astro.url} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={image} />

    <script type="application/ld+json" set:html={JSON.stringify(combinedSchema)} />
    <!-- Umami Analytics -->
    <script defer src="https://umami-production-bd9e.up.railway.app/script.js" data-website-id="95066d20-b614-4852-85b0-673af1e2eed1"></script>
  </head>
  <body class="bg-[#0a0a0a] text-gray-200 font-sans selection:bg-white/20">
    <slot />
  </body>
</html>
